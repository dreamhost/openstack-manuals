New, updated, and deprecated options in Mitaka for Compute
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

..
  Warning: Do not edit this file. It is automatically generated and your
  changes will be overwritten. The tool to do so lives in the
  openstack-doc-tools repository.

.. list-table:: New options
   :header-rows: 1
   :class: config-ref-table

   * - Option = default value
     - (Type) Help string
   * - ``[DEFAULT] disk_weight_multiplier = 1.0``
     - (FloatOpt) Multiplier used for weighing free disk space. Negative numbers mean to stack vs spread.
   * - ``[DEFAULT] notification_format = both``
     - (StrOpt) Specifies which notification format shall be used by nova.
   * - ``[DEFAULT] soft_affinity_weight_multiplier = 1.0``
     - (FloatOpt) Multiplier used for weighing hosts for group soft-affinity. Only a positive value is meaningful. Negative means that the behavior will change to the opposite, which is soft-anti-affinity.
   * - ``[DEFAULT] soft_anti_affinity_weight_multiplier = 1.0``
     - (FloatOpt) Multiplier used for weighing hosts for group soft-anti-affinity. Only a positive value is meaningful. Negative means that the behavior will change to the opposite, which is soft-affinity.
   * - ``[DEFAULT] use_neutron = False``
     - (BoolOpt) Whether to use Neutron or Nova Network as the back end for networking. Defaults to False (indicating Nova network). Set to True to use neutron.
   * - ``[cache] backend = dogpile.cache.null``
     - (StrOpt) Dogpile.cache backend module. It is recommended that Memcache with pooling (oslo_cache.memcache_pool) or Redis (dogpile.cache.redis) be used in production deployments. Small workloads (single process) like devstack can use the dogpile.cache.memory backend.
   * - ``[cache] backend_argument = []``
     - (MultiStrOpt) Arguments supplied to the backend module. Specify this option once per argument to be passed to the dogpile.cache backend. Example format: "<argname>:<value>".
   * - ``[cache] config_prefix = cache.oslo``
     - (StrOpt) Prefix for building the configuration dictionary for the cache region. This should not need to be changed unless there is another dogpile.cache region with the same configuration name.
   * - ``[cache] debug_cache_backend = False``
     - (BoolOpt) Extra debugging from the cache backend (cache keys, get/set/delete/etc calls). This is only really useful if you need to see the specific cache-backend get/set/delete calls with the keys/values. Typically this should be left set to false.
   * - ``[cache] enabled = False``
     - (BoolOpt) Global toggle for caching.
   * - ``[cache] expiration_time = 600``
     - (IntOpt) Default TTL, in seconds, for any cached item in the dogpile.cache region. This applies to any cached method that doesn't have an explicit cache expiration time defined for it.
   * - ``[cache] memcache_dead_retry = 300``
     - (IntOpt) Number of seconds memcached server is considered dead before it is tried again. (dogpile.cache.memcache and oslo_cache.memcache_pool backends only).
   * - ``[cache] memcache_pool_connection_get_timeout = 10``
     - (IntOpt) Number of seconds that an operation will wait to get a memcache client connection.
   * - ``[cache] memcache_pool_maxsize = 10``
     - (IntOpt) Max total number of open connections to every memcached server. (oslo_cache.memcache_pool backend only).
   * - ``[cache] memcache_pool_unused_timeout = 60``
     - (IntOpt) Number of seconds a connection to memcached is held unused in the pool before it is closed. (oslo_cache.memcache_pool backend only).
   * - ``[cache] memcache_servers = localhost:11211``
     - (ListOpt) Memcache servers in the format of "host:port". (dogpile.cache.memcache and oslo_cache.memcache_pool backends only).
   * - ``[cache] memcache_socket_timeout = 3``
     - (IntOpt) Timeout in seconds for every call to a server. (dogpile.cache.memcache and oslo_cache.memcache_pool backends only).
   * - ``[cache] proxies =``
     - (ListOpt) Proxy classes to import that will affect the way the dogpile.cache backend functions. See the dogpile.cache documentation on changing-backend-behavior.
   * - ``[cells] instance_update_sync_database_limit = 100``
     - (IntOpt) Instance update sync database limit Number of instances to pull from the database at one time for a sync. If there are more instances to update the results will be paged through.

       Possible values:

       * Number of instances.

       Services which consume this:

       * nova-cells

       Related options:

       * None
   * - ``[glance] verify_glance_signatures = False``
     - (BoolOpt) Require Nova to perform signature verification on each image downloaded from Glance.
   * - ``[libvirt] live_migration_inbound_addr = None``
     - (StrOpt) Live migration target ip or hostname (if this option is set to None, which is the default, the hostname of the migration target compute node will be used)
   * - ``[libvirt] live_migration_tunnelled = None``
     - (BoolOpt) Whether to use tunnelled migration, where migration data is transported over the libvirtd connection. If True, we use the VIR_MIGRATE_TUNNELLED migration flag, avoiding the need to configure the network to allow direct hypervisor to hypervisor communication. If False, use the native transport. If not set, Nova will choose a sensible default based on, for example the availability of native encryption support in the hypervisor.
   * - ``[libvirt] realtime_scheduler_priority = 1``
     - (IntOpt) In a realtime host context vCPUs for guest will run in that scheduling priority. Priority depends on the host kernel (usually 1-99)
   * - ``[neutron] auth_type = None``
     - (Opt) Authentication type to load
   * - ``[osapi_v21] project_id_regex = None``
     - (StrOpt) DEPRECATED: The validation regex for project_ids used in urls. This defaults to [0-9a-f\-]+ if not set, which matches normal uuids created by keystone.
   * - ``[oslo_policy] policy_default_rule = default``
     - (StrOpt) Default rule. Enforced when a requested rule is not found.
   * - ``[oslo_policy] policy_dirs = ['policy.d']``
     - (MultiStrOpt) Directories where policy configuration files are stored. They can be relative to any directory in the search path defined by the config_dir option, or absolute paths. The file defined by policy_file must exist for these directories to be searched. Missing or empty directories are ignored.
   * - ``[oslo_policy] policy_file = policy.json``
     - (StrOpt) The JSON file that defines policies.
   * - ``[vnc] novncproxy_host = 0.0.0.0``
     - (StrOpt) IP address that the noVNC console proxy should bind to. The VNC proxy is an OpenStack component that enables compute service users to access their instances through VNC clients. noVNC provides VNC support through a websocket-based client. This option sets the private address to which the noVNC console proxy service should bind to.

       Possible values:

       * An IP address

       Services which consume this:

       * ``nova-compute``

       Related options:

       * novncproxy_port
       * novncproxy_base_url
   * - ``[vnc] novncproxy_port = 6080``
     - (IntOpt) Port that the noVNC console proxy should bind to. The VNC proxy is an OpenStack component that enables compute service users to access their instances through VNC clients. noVNC provides VNC support through a websocket-based client. This option sets the private port to which the noVNC console proxy service should bind to.

       Possible values:

       * A port number

       Services which consume this:

       * ``nova-compute``

       Related options:

       * novncproxy_host
       * novncproxy_base_url
   * - ``[vnc] xvpvncproxy_host = 0.0.0.0``
     - (StrOpt) IP address that the XVP VNC console proxy should bind to. The VNC proxy is an OpenStack component that enables compute service users to access their instances through VNC clients. Xen provides the Xenserver VNC Proxy, or XVP, as an alternative to the websocket-based noVNC proxy used by Libvirt. In contrast to noVNC, XVP clients are Java-based. This option sets the private address to which the XVP VNC console proxy service should bind to.

       Possible values:

       * An IP address

       Services which consume this:

       * ``nova-compute``

       Related options:

       * xvpvncproxy_port
       * xvpvncproxy_base_url
   * - ``[vnc] xvpvncproxy_port = 6081``
     - (IntOpt) Port that the XVP VNC console proxy should bind to. The VNC proxy is an OpenStack component that enables compute service users to access their instances through VNC clients. Xen provides the Xenserver VNC Proxy, or XVP, as an alternative to the websocket-based noVNC proxy used by Libvirt. In contrast to noVNC, XVP clients are Java-based. This option sets the private port to which the XVP VNC console proxy service should bind to.

       Possible values:

       * A port number

       Services which consume this:

       * ``nova-compute``

       Related options:

       * xvpvncproxy_host
       * xvpvncproxy_base_url

.. list-table:: New default values
   :header-rows: 1
   :class: config-ref-table

   * - Option
     - Previous default value
     - New default value
   * - ``[DEFAULT] compute_resources``
     - ``vcpu``
     -
   * - ``[DEFAULT] disk_allocation_ratio``
     - ``1.0``
     - ``0.0``
   * - ``[DEFAULT] enabled_apis``
     - ``ec2, osapi_compute, metadata``
     - ``osapi_compute, metadata``
   * - ``[DEFAULT] force_config_drive``
     - ``None``
     - ``False``
   * - ``[DEFAULT] monkey_patch_modules``
     - ``nova.api.ec2.cloud:nova.notifications.notify_decorator, nova.compute.api:nova.notifications.notify_decorator``
     - ``nova.compute.api:nova.notifications.notify_decorator``
   * - ``[DEFAULT] scheduler_driver``
     - ``nova.scheduler.filter_scheduler.FilterScheduler``
     - ``filter_scheduler``
   * - ``[DEFAULT] scheduler_host_manager``
     - ``nova.scheduler.host_manager.HostManager``
     - ``host_manager``
   * - ``[libvirt] live_migration_uri``
     - ``qemu+tcp://%s/system``
     - ``None``
   * - ``[vmware] integration_bridge``
     - ``br-int``
     - ``None``

.. list-table:: Deprecated options
   :header-rows: 1
   :class: config-ref-table

   * - Deprecated option
     - New Option
   * - ``[DEFAULT] cert_manager``
     - ``None``
   * - ``[DEFAULT] compute_available_monitors``
     - ``None``
   * - ``[DEFAULT] compute_manager``
     - ``None``
   * - ``[DEFAULT] compute_resources``
     - ``None``
   * - ``[DEFAULT] compute_stats_class``
     - ``None``
   * - ``[DEFAULT] console_manager``
     - ``None``
   * - ``[DEFAULT] consoleauth_manager``
     - ``None``
   * - ``[DEFAULT] db_driver``
     - ``None``
   * - ``[DEFAULT] memcached_servers``
     - ``None``
   * - ``[DEFAULT] metadata_manager``
     - ``None``
   * - ``[DEFAULT] network_api_class``
     - ``None``
   * - ``[DEFAULT] network_device_mtu``
     - ``None``
   * - ``[DEFAULT] osapi_compute_ext_list``
     - ``None``
   * - ``[DEFAULT] scheduler_manager``
     - ``None``
   * - ``[DEFAULT] security_group_api``
     - ``None``
   * - ``[DEFAULT] share_dhcp_address``
     - ``None``
   * - ``[DEFAULT] use_syslog``
     - ``None``
   * - ``[DEFAULT] vendordata_driver``
     - ``None``
   * - ``[DEFAULT] volume_api_class``
     - ``None``
   * - ``[cells] manager``
     - ``None``
   * - ``[conductor] manager``
     - ``None``
   * - ``[conductor] use_local``
     - ``None``
   * - ``[glance] host``
     - ``None``
   * - ``[glance] port``
     - ``None``
   * - ``[glance] protocol``
     - ``None``
   * - ``[hyperv] force_volumeutils_v1``
     - ``None``
   * - ``[ironic] admin_auth_token``
     - ``None``
   * - ``[ironic] api_version``
     - ``None``
   * - ``[ironic] client_log_level``
     - ``None``
   * - ``[libvirt] remove_unused_kernels``
     - ``None``
   * - ``[osapi_v21] enabled``
     - ``None``
   * - ``[osapi_v21] extensions_blacklist``
     - ``None``
   * - ``[osapi_v21] extensions_whitelist``
     - ``None``
   * - ``[osapi_v21] project_id_regex``
     - ``None``
   * - ``[serial_console] listen``
     - ``None``
   * - ``[workarounds] destroy_after_evacuate``
     - ``None``

