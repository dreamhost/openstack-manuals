..
    Warning: Do not edit this file. It is automatically generated from the
    software project's code and your changes will be overwritten.

    The tool to generate this file lives in openstack-doc-tools repository.

    Please make any changes needed in the code, then run the
    autogenerate-config-doc tool from the openstack-doc-tools repository, or
    ask for help on the documentation mailing list, IRC channel or meeting.

.. _nova-livemigration:

.. list-table:: Description of live migration configuration options
   :header-rows: 1
   :class: config-ref-table

   * - Configuration option = Default value
     - Description
   * - **[DEFAULT]**
     -
   * - ``live_migration_retry_count`` = ``30``
     - (Integer) Number of 1 second retries needed in live_migration
   * - ``max_concurrent_live_migrations`` = ``1``
     - (Integer) Maximum number of live migrations to run concurrently. This limit is enforced to avoid outbound live migrations overwhelming the host/network and causing failures. It is not recommended that you change this unless you are very sure that doing so is safe and stable in your environment.
   * - **[libvirt]**
     -
   * - ``live_migration_bandwidth`` = ``0``
     - (Integer) Maximum bandwidth(in MiB/s) to be used during migration. If set to 0, will choose a suitable default. Some hypervisors do not support this feature and will return an error if bandwidth is not 0. Please refer to the libvirt documentation for further details
   * - ``live_migration_completion_timeout`` = ``800``
     - (Integer) Time to wait, in seconds, for migration to successfully complete transferring data before aborting the operation. Value is per GiB of guest RAM + disk to be transferred, with lower bound of a minimum of 2 GiB. Should usually be larger than downtime delay * downtime steps. Set to 0 to disable timeouts.
   * - ``live_migration_downtime`` = ``500``
     - (Integer) Maximum permitted downtime, in milliseconds, for live migration switchover. Will be rounded up to a minimum of 100ms. Use a large value if guest liveness is unimportant.
   * - ``live_migration_downtime_delay`` = ``75``
     - (Integer) Time to wait, in seconds, between each step increase of the migration downtime. Minimum delay is 10 seconds. Value is per GiB of guest RAM + disk to be transferred, with lower bound of a minimum of 2 GiB per device
   * - ``live_migration_downtime_steps`` = ``10``
     - (Integer) Number of incremental steps to reach max downtime value. Will be rounded up to a minimum of 3 steps
   * - ``live_migration_flag`` = ``VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER, VIR_MIGRATE_LIVE, VIR_MIGRATE_TUNNELLED``
     - (String) DEPRECATED: Migration flags to be set for live migration The correct live migration flags can be inferred from the new live_migration_tunnelled config option. live_migration_flag will be removed to avoid potential misconfiguration.
   * - ``live_migration_inbound_addr`` = ``None``
     - (String) Live migration target ip or hostname (if this option is set to None, which is the default, the hostname of the migration target compute node will be used)
   * - ``live_migration_progress_timeout`` = ``150``
     - (Integer) Time to wait, in seconds, for migration to make forward progress in transferring data before aborting the operation. Set to 0 to disable timeouts.
   * - ``live_migration_tunnelled`` = ``None``
     - (Boolean) Whether to use tunnelled migration, where migration data is transported over the libvirtd connection. If True, we use the VIR_MIGRATE_TUNNELLED migration flag, avoiding the need to configure the network to allow direct hypervisor to hypervisor communication. If False, use the native transport. If not set, Nova will choose a sensible default based on, for example the availability of native encryption support in the hypervisor.
   * - ``live_migration_uri`` = ``None``
     - (String) Override the default libvirt live migration target URI (which is dependent on virt_type) (any included "%s" is replaced with the migration target hostname)
