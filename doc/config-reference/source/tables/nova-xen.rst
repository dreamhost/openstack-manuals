..
    Warning: Do not edit this file. It is automatically generated from the
    software project's code and your changes will be overwritten.

    The tool to generate this file lives in openstack-doc-tools repository.

    Please make any changes needed in the code, then run the
    autogenerate-config-doc tool from the openstack-doc-tools repository, or
    ask for help on the documentation mailing list, IRC channel or meeting.

.. _nova-xen:

.. list-table:: Description of Xen configuration options
   :header-rows: 1
   :class: config-ref-table

   * - Configuration option = Default value
     - Description
   * - **[DEFAULT]**
     -
   * - ``console_driver`` = ``nova.console.xvp.XVPConsoleProxy``
     - (String) Driver to use for the console proxy
   * - ``console_xvp_conf`` = ``/etc/xvp.conf``
     - (String) Generated XVP conf file
   * - ``console_xvp_conf_template`` = ``$pybasedir/nova/console/xvp.conf.template``
     - (String) XVP conf template
   * - ``console_xvp_log`` = ``/var/log/xvp.log``
     - (String) XVP log file
   * - ``console_xvp_multiplex_port`` = ``5900``
     - (Integer) Port for XVP to multiplex VNC connections on
   * - ``console_xvp_pid`` = ``/var/run/xvp.pid``
     - (String) XVP master process pid file
   * - ``stub_compute`` = ``False``
     - (Boolean) Stub calls to compute worker for tests
   * - **[libvirt]**
     -
   * - ``xen_hvmloader_path`` = ``/usr/lib/xen/boot/hvmloader``
     - (String) Location where the Xen hvmloader is kept
   * - **[xenserver]**
     -
   * - ``agent_path`` = ``usr/sbin/xe-update-networking``
     - (String) Path to locate guest agent on the server. Specifies the path in which the XenAPI guest agent should be located. If the agent is present, network configuration is not injected into the image. Used if compute_driver=xenapi.XenAPIDriver and flat_injected=True. Services which consume this: * ``nova-compute`` Possible values: * A valid path Related options: * ``flat_injected`` * ``compute_driver``
   * - ``agent_resetnetwork_timeout`` = ``60``
     - (Integer) Number of seconds to wait for agent's reply to resetnetwork request. This indicates the amount of time xapi 'agent' plugin waits for the agent to respond to the 'resetnetwork' request specifically. The generic timeout for agent communication ``agent_timeout`` is ignored in this case. Services which consume this: * ``nova-compute`` Possible values: * Any positive integer Related options: * None
   * - ``agent_timeout`` = ``30``
     - (Integer) Number of seconds to wait for agent's reply to a request. Nova configures/performs certain administrative actions on a server with the help of an agent that's installed on the server. The communication between Nova and the agent is achieved via sharing messages, called records, over xenstore, a shared storage across all the domains on a Xenserver host. Operations performed by the agent on behalf of nova are: 'version',' key_init', 'password','resetnetwork','inject_file', and 'agentupdate'. To perform one of the above operations, the xapi 'agent' plugin writes the command and its associated parameters to a certain location known to the domain and awaits response. On being notified of the message, the agent performs appropriate actions on the server and writes the result back to xenstore. This result is then read by the xapi 'agent' plugin to determine the success/failure of the operation. This config option determines how long the xapi 'agent' plugin shall wait to read the response off of xenstore for a given request/command. If the agent on the instance fails to write the result in this time period, the operation is considered to have timed out. Services which consume this: * ``nova-compute`` Possible values: * Any positive integer Related options: * ``agent_version_timeout`` * ``agent_resetnetwork_timeout``
   * - ``agent_version_timeout`` = ``300``
     - (Integer) Number of seconds to wait for agent't reply to version request. This indicates the amount of time xapi 'agent' plugin waits for the agent to respond to the 'version' request specifically. The generic timeout for agent communication ``agent_timeout`` is ignored in this case. During the build process the 'version' request is used to determine if the agent is available/operational to perform other requests such as 'resetnetwork', 'password', 'key_init' and 'inject_file'. If the 'version' call fails, the other configuration is skipped. So, this configuration option can also be interpreted as time in which agent is expected to be fully operational. Services which consume this: * ``nova-compute`` Possible values: * Any positive integer Related options: * None
   * - ``cache_images`` = ``all``
     - (String) Cache glance images locally. `all` will cache all images, `some` will only cache images that have the image_property `cache_in_nova=True`, and `none` turns off caching entirely
   * - ``check_host`` = ``True``
     - (Boolean) Ensure compute service is running on host XenAPI connects to.
   * - ``connection_concurrent`` = ``5``
     - (Integer) Maximum number of concurrent XenAPI connections. Used only if compute_driver=xenapi.XenAPIDriver
   * - ``connection_password`` = ``None``
     - (String) Password for connection to XenServer/Xen Cloud Platform. Used only if compute_driver=xenapi.XenAPIDriver
   * - ``connection_url`` = ``None``
     - (String) URL for connection to XenServer/Xen Cloud Platform. A special value of unix://local can be used to connect to the local unix socket. Required if compute_driver=xenapi.XenAPIDriver
   * - ``connection_username`` = ``root``
     - (String) Username for connection to XenServer/Xen Cloud Platform. Used only if compute_driver=xenapi.XenAPIDriver
   * - ``default_os_type`` = ``linux``
     - (String) Default OS type
   * - ``disable_agent`` = ``False``
     - (Boolean) Disables the use of XenAPI agent. This configuration option suggests whether the use of agent should be enabled or not regardless of what image properties are present. Image properties have an effect only when this is set to ``True``. Read description of config option ``use_agent_default`` for more information. Services which consume this: * ``nova-compute`` Possible values: * True * False Related options: * ``use_agent_default``
   * - ``image_compression_level`` = ``None``
     - (Integer) Compression level for images, e.g., 9 for gzip -9. Range is 1-9, 9 being most compressed but most CPU intensive on dom0.
   * - ``image_upload_handler`` = ``nova.virt.xenapi.image.glance.GlanceStore``
     - (String) Dom0 plugin driver used to handle image uploads.
   * - ``introduce_vdi_retry_wait`` = ``20``
     - (Integer) Number of seconds to wait for an SR to settle if the VDI does not exist when first introduced
   * - ``ipxe_boot_menu_url`` = ``None``
     - (String) URL to the iPXE boot menu
   * - ``ipxe_mkisofs_cmd`` = ``mkisofs``
     - (String) Name and optionally path of the tool used for ISO image creation
   * - ``ipxe_network_name`` = ``None``
     - (String) Name of network to use for booting iPXE ISOs
   * - ``iqn_prefix`` = ``iqn.2010-10.org.openstack``
     - (String) IQN Prefix
   * - ``login_timeout`` = ``10``
     - (Integer) Timeout in seconds for XenAPI login.
   * - ``max_kernel_ramdisk_size`` = ``16777216``
     - (Integer) Maximum size in bytes of kernel or ramdisk images
   * - ``num_vbd_unplug_retries`` = ``10``
     - (Integer) Maximum number of retries to unplug VBD. if <=0, should try once and no retry
   * - ``ovs_integration_bridge`` = ``xapi1``
     - (String) Name of Integration Bridge used by Open vSwitch
   * - ``remap_vbd_dev`` = ``False``
     - (Boolean) Used to enable the remapping of VBD dev (Works around an issue in Ubuntu Maverick)
   * - ``remap_vbd_dev_prefix`` = ``sd``
     - (String) Specify prefix to remap VBD dev to (ex. /dev/xvdb -> /dev/sdb)
   * - ``running_timeout`` = ``60``
     - (Integer) Number of seconds to wait for instance to go to running state
   * - ``sparse_copy`` = ``True``
     - (Boolean) Whether to use sparse_copy for copying data on a resize down (False will use standard dd). This speeds up resizes down considerably since large runs of zeros won't have to be rsynced
   * - ``sr_base_path`` = ``/var/run/sr-mount``
     - (String) Base path to the storage repository
   * - ``sr_matching_filter`` = ``default-sr:true``
     - (String) Filter for finding the SR to be used to install guest instances on. To use the Local Storage in default XenServer/XCP installations set this flag to other-config:i18n-key=local-storage. To select an SR with a different matching criteria, you could set it to other-config:my_favorite_sr=true. On the other hand, to fall back on the Default SR, as displayed by XenCenter, set this flag to: default-sr:true
   * - ``target_host`` = ``None``
     - (String) The iSCSI Target Host
   * - ``target_port`` = ``3260``
     - (String) The iSCSI Target Port, default is port 3260
   * - ``torrent_base_url`` = ``None``
     - (String) Base URL for torrent files; must contain a slash character (see RFC 1808, step 6)
   * - ``torrent_download_stall_cutoff`` = ``600``
     - (Integer) Number of seconds a download can remain at the same progress percentage w/o being considered a stall
   * - ``torrent_images`` = ``none``
     - (String) Whether or not to download images via Bit Torrent.
   * - ``torrent_listen_port_end`` = ``6891``
     - (Integer) End of port range to listen on
   * - ``torrent_listen_port_start`` = ``6881``
     - (Integer) Beginning of port range to listen on
   * - ``torrent_max_last_accessed`` = ``86400``
     - (Integer) Cached torrent files not accessed within this number of seconds can be reaped
   * - ``torrent_max_seeder_processes_per_host`` = ``1``
     - (Integer) Maximum number of seeder processes to run concurrently within a given dom0. (-1 = no limit)
   * - ``torrent_seed_chance`` = ``1.0``
     - (Floating point) Probability that peer will become a seeder. (1.0 = 100%)
   * - ``torrent_seed_duration`` = ``3600``
     - (Integer) Number of seconds after downloading an image via BitTorrent that it should be seeded for other peers.
   * - ``use_agent_default`` = ``False``
     - (Boolean) Whether or not to use the agent by default when its usage is enabled but not indicated by the image. The use of XenAPI agent can be disabled altogether using the configuration option ``disable_agent``. However, if it is not disabled, the use of an agent can still be controlled by the image in use through one of its properties, ``xenapi_use_agent``. If this property is either not present or specified incorrectly on the image, the use of agent is determined by this configuration option. Note that if this configuration is set to ``True`` when the agent is not present, the boot times will increase significantly. Services which consume this: * ``nova-compute`` Possible values: * True * False Related options: * ``disable_agent``
   * - ``use_join_force`` = ``True``
     - (Boolean) To use for hosts with different CPUs
   * - ``vhd_coalesce_max_attempts`` = ``20``
     - (Integer) Max number of times to poll for VHD to coalesce. Used only if compute_driver=xenapi.XenAPIDriver
   * - ``vhd_coalesce_poll_interval`` = ``5.0``
     - (Floating point) The interval used for polling of coalescing vhds. Used only if compute_driver=xenapi.XenAPIDriver
   * - ``vif_driver`` = ``nova.virt.xenapi.vif.XenAPIBridgeDriver``
     - (String) The XenAPI VIF driver using XenServer Network APIs.
